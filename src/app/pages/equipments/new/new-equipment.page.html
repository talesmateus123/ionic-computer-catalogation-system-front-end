<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="equipments"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="equipmentType === 'COMPUTER'">Novo computador</ion-title>
    <ion-title *ngIf="equipmentType === 'PRINTER'">Nova impressora</ion-title>
    <ion-title *ngIf="equipmentType === 'MONITOR'">Novo monitor</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-select [(ngModel)]="equipmentType"  ok-text="Ok" cancel-text="Cancelar" interface="popover">
          <ion-select-option *ngFor="let equipment of controller.equipmentTypes" [value]="equipment">
            <p *ngIf="equipment === 'COMPUTER'">Computador</p>
            <p *ngIf="equipment === 'PRINTER'">Impressora</p>
            <p *ngIf="equipment === 'MONITOR'">Monitor</p>
          </ion-select-option>
        </ion-select>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>  
</ion-header>

<ion-header>
  <ion-item *ngIf="equipmentType === 'COMPUTER'">
    <ion-label *ngIf="detailForm" style="text-size-adjust: 10px;">Detalhado</ion-label>
    <ion-label *ngIf="!detailForm" style="text-size-adjust: 10px;">Não detalhado</ion-label>
    <ion-toggle color="dark" slot="end" [(ngModel)]="detailForm"></ion-toggle>
  </ion-item>
</ion-header>



<ion-content>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" edge>
    <ion-fab-button color="primary">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="start">
      <ion-fab-button [routerLink]="['/electronic-components/new']" [queryParams]="{ type: 'PROCESSOR' }"><ion-icon name="hardware-chip"></ion-icon></ion-fab-button>
      <ion-fab-button *ngIf="detailForm"  [routerLink]="['/electronic-components/new']" [queryParams]="{ type: 'RAM_MEMORY' }"><ion-icon name="git-compare"></ion-icon></ion-fab-button>
      <ion-fab-button *ngIf="detailForm"  [routerLink]="['/electronic-components/new']" [queryParams]="{ type: 'STORAGE_DEVICE' }"><ion-icon name="disc"></ion-icon></ion-fab-button>
    </ion-fab-list>
  </ion-fab>

  <ion-list>
    <ion-list-header class="title" color="dark">Informações gerais</ion-list-header>

    <ion-item>
      <ion-label>Número de patrimônio:</ion-label>
      <ion-input type="text" [(ngModel)]="formPatrimonyId"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Fabricante:</ion-label>
      <ion-input type="text" [(ngModel)]="formManufacturer"></ion-input>    
    </ion-item>

    <ion-item>
      <ion-label>Modelo:</ion-label>
      <ion-input type="text" [(ngModel)]="formModel"></ion-input>    
    </ion-item>

    <ion-item>
      <ion-label>Está funcionando?</ion-label>
      <ion-checkbox color="dark" [(ngModel)]="formItWorks"></ion-checkbox>
    </ion-item>
  </ion-list>

  <ion-list *ngIf="equipmentType === 'COMPUTER'">
    <ion-list-header class="title" color="dark">Informações do hardware</ion-list-header>
      <ion-item *ngIf="detailForm">
        <ion-label>Possui leitor de CD/DVD?</ion-label>
        <ion-checkbox color="dark" [(ngModel)]="formHasCdBurner"></ion-checkbox>    
      </ion-item>

      <ion-item *ngIf="detailForm">
        <ion-label>Nome da placa mãe:</ion-label>
        <ion-input type="text" [(ngModel)]="formMotherBoardName"></ion-input>    
      </ion-item>

      <ion-item *ngIf="detailForm">
        <ion-label>Modelo do gabinete:</ion-label>
        <ion-input type="text" [(ngModel)]="formCabinetModel"></ion-input>    
      </ion-item>

      <ion-item>
        <ion-label>Processador:</ion-label>
        <ion-select [(ngModel)]="formProcessorId"  ok-text="Ok" cancel-text="Cancelar">
          <ion-select-option value="">Nenhum</ion-select-option>
          <ion-select-option *ngFor="let processor of availableProcessors" value={{processor.id}}>{{ processor.processorName }}</ion-select-option>
        </ion-select>
      </ion-item>     
  </ion-list>

  <ion-list *ngIf="equipmentType === 'COMPUTER'">
    <ion-list-header class="title" color="dark">Memórias</ion-list-header>

    <ion-item *ngIf="!detailForm">
      <ion-range [(ngModel)]="formRamMemorySize" min="0" max="16" pin color="dark">
        <ion-icon slot="start" size="small" name="git-compare"></ion-icon>
        <ion-icon slot="end" name="git-compare"></ion-icon>
      </ion-range>
      <ion-note slot="end">RAM: {{ formRamMemorySize }} GB</ion-note>
    </ion-item>

    <ion-item *ngIf="!detailForm">
      <ion-range [(ngModel)]="formStorageDeviceSize" min="0" max="2000" step="20" pin color="dark">
        <ion-icon slot="start" size="small" name="disc"></ion-icon>
        <ion-icon slot="end" name="disc"></ion-icon>
      </ion-range>
      <ion-note slot="end">HD: {{ formStorageDeviceSize }} GB</ion-note>
    </ion-item>

    <ion-grid *ngIf="detailForm">
      <ion-row>
        <ion-col size="10">
          <ion-item>
            <ion-label>Memória RAM:</ion-label>
            <ion-select [(ngModel)]="formProcessorId"  ok-text="Ok" cancel-text="Cancelar">
              <ion-select-option value="">Nenhum</ion-select-option>
              <ion-select-option *ngFor="let processor of availableProcessors" value={{processor.id}}>{{ processor.processorName }}</ion-select-option>
            </ion-select>          
          </ion-item>
        </ion-col>
          
        <ion-col size="2">
          <ion-buttons>
            <ion-button>
              <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="10">
          <ion-item>
            <ion-label>Armazenamento:</ion-label>
            <ion-select [(ngModel)]="formProcessorId"  ok-text="Ok" cancel-text="Cancelar">
              <ion-select-option value="">Nenhum</ion-select-option>
              <ion-select-option *ngFor="let processor of availableProcessors" value={{processor.id}}>{{ processor.processorName }}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>

        <ion-col size="2">
          <ion-buttons>
            <ion-button>
              <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-col>
      </ion-row>

    </ion-grid> 
  </ion-list>

  <ion-list>
    <ion-list-header class="title" color="dark">Informações do sistema</ion-list-header>
    <div *ngIf="equipmentType === 'COMPUTER'">      
      <ion-item *ngIf="detailForm">
        <ion-label>Está no domínio?</ion-label>
        <ion-checkbox color="dark" [(ngModel)]="formOnTheDomain"></ion-checkbox>    
      </ion-item>

      <ion-item>
        <ion-label>Endereço IP:</ion-label>
        <ion-input type="text" [(ngModel)]="formIpAddress"></ion-input>    
      </ion-item>
      
      <ion-item>
        <ion-label>Nome do computador:</ion-label>
        <ion-input type="text" [(ngModel)]="formHostName"></ion-input>    
      </ion-item>

      <ion-item>
        <ion-label>Sistema operacional:</ion-label>
        <ion-select [(ngModel)]="formOperatingSystem"  ok-text="Ok" cancel-text="Cancelar">
          <ion-select-option *ngFor="let operatingSystem of controller.keys(controller.operatingSystems)" [value]="operatingSystem">{{controller.operatingSystems[operatingSystem]}}</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="detailForm">
        <ion-label>Arquitetura do sistema operacional:</ion-label>
        <ion-select [(ngModel)]="formOperatingSystemArchitecture"  ok-text="Ok" cancel-text="Cancelar">
          <ion-select-option *ngFor="let operatingSystemArchitecture of controller.keys(controller.operatingSystemArchitectures)" [value]="operatingSystemArchitecture">{{controller.operatingSystemArchitectures[operatingSystemArchitecture]}}</ion-select-option>
        </ion-select>
      </ion-item>
    </div>

    <div *ngIf="equipmentType === 'PRINTER'">
      <ion-item>
        <ion-label>Endereço IP:</ion-label>
        <ion-input type="text" [(ngModel)]="formIpAddress"></ion-input>    
      </ion-item>

      <ion-item>
        <ion-label>Nome da impressora:</ion-label>
        <ion-input type="text" [(ngModel)]="formHostName"></ion-input>    
      </ion-item>
    </div>
  </ion-list>


  <ion-list>
    <ion-list-header class="title" color="dark">Outros</ion-list-header>

    <div *ngIf="equipmentType === 'COMPUTER'">
      <ion-item *ngIf="availableMonitors">
        <ion-label>Associar a um monitor:</ion-label>
        <ion-select [(ngModel)]="formMonitorId"  ok-text="Ok" cancel-text="Cancelar">
          <ion-select-option value="">Nenhum</ion-select-option>
          <ion-select-option *ngFor="let monitor of availableMonitors" value={{monitor.id}}>{{ monitor.patrimonyId }}</ion-select-option>
        </ion-select>
      </ion-item>        
    </div>

    <!--
    <div *ngIf="equipmentType === 'MONITOR'">
      <ion-item *ngIf="availableComputers">
        <ion-label>Associar a um computador:</ion-label>
        <ion-select [(ngModel)]="formComputerId"  ok-text="Ok" cancel-text="Cancelar">
          <ion-select-option value="">Nenhum</ion-select-option>
          <ion-select-option *ngFor="let computer of controller.availableComputers" value={{computer.id}}>{{ computer.patrimonyId }}</ion-select-option>
        </ion-select>
      </ion-item>
    </div>
    -->

    <ion-item *ngIf="sectorController.sectors">
      <ion-label>Setor:</ion-label>
      <ion-select [(ngModel)]="formSectorId"  ok-text="Ok" cancel-text="Cancelar">
        <ion-select-option *ngFor="let sector of sectorController.sectors" value={{sector.id}}>{{ sector.name }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>

  <ion-item>
    <ion-label position="floating">Descrição:</ion-label>
    <ion-textarea [(ngModel)]="formDescription" rows="4"></ion-textarea>
  </ion-item>  
</ion-content>

<ion-footer> 
  <ion-toolbar>
    <ion-grid>
      <ion-row class="ion-align-items-center">
        <ion-col size="12" class="ion-text-center">
          <ion-button (click)="create()" expand="block" fill="clear" color="dark">Salvar</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>    
</ion-footer>
